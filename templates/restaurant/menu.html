<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu - {{PAGE_TITLE}}</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/style.css">
    <meta name="description" content="D√©couvrez notre menu avec nos sp√©cialit√©s, plats du jour et carte des boissons. Cuisine traditionnelle fran√ßaise">
</head>
<body>
    <header class="site-header">
        <nav class="navbar">
            <div class="container">
                <div class="nav-brand">
                    <h1 id="business-name">Chargement...</h1>
                </div>
                <ul class="nav-menu" id="nav-menu">
                    <!-- Navigation g√©n√©r√©e dynamiquement -->
                </ul>
                <div class="nav-mobile">
                    <button class="nav-toggle" onclick="toggleMobileMenu()">‚ò∞</button>
                </div>
            </div>
        </nav>
    </header>

    <main class="menu-page">
        <!-- Header de la page menu -->
        <section class="menu-header">
            <div class="container">
                <h1>Notre Menu</h1>
                <p class="hero-subtitle">D√©couvrez nos sp√©cialit√©s et plats pr√©par√©s avec passion</p>
            </div>
        </section>

        <!-- Navigation du menu -->
        <nav class="menu-navigation" id="menu-navigation">
            <div class="container">
                <div class="menu-nav-buttons" id="menu-nav-buttons">
                    <!-- Boutons g√©n√©r√©s dynamiquement -->
                </div>
            </div>
        </nav>

        <!-- Menu du jour (si activ√©) -->
        <section class="menu-section" id="menu-du-jour-section" style="display: none;">
            <div class="container">
                <h2 class="section-title">Menu du Jour</h2>
                <p class="section-subtitle">Nos suggestions fra√Æches du jour, pr√©par√©es avec des produits de saison</p>
                
                <div class="menu-du-jour-container">
                    <div class="menu-items" id="menu-du-jour-items">
                        <div class="loading">Chargement du menu du jour...</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Carte principale (si activ√©e) -->
        <section class="menu-section" id="carte-principale-section" style="display: none;">
            <div class="container">
                <h2 class="section-title">Notre Carte</h2>
                <p class="section-subtitle">Une s√©lection de plats traditionnels et cr√©atifs, pr√©par√©s avec des ingr√©dients de qualit√©</p>
                
                <div class="menu-categories" id="carte-principale-categories">
                    <div class="loading">Chargement de la carte...</div>
                </div>
            </div>
        </section>

        <!-- Menu boissons (si activ√©) -->
        <section class="menu-section" id="menu-boissons-section" style="display: none;">
            <div class="container">
                <h2 class="section-title">Carte des Boissons</h2>
                <p class="section-subtitle">Vins s√©lectionn√©s, boissons chaudes et froides pour accompagner vos repas</p>
                
                <div class="menu-categories" id="menu-boissons-categories">
                    <div class="loading">Chargement de la carte des boissons...</div>
                </div>
            </div>
        </section>

        <!-- Message si aucun menu n'est configur√© -->
        <section class="no-menu-message" id="no-menu-message" style="display: none;">
            <div class="container">
                <div class="message-card">
                    <h2>Menu en cours de pr√©paration</h2>
                    <p>Notre √©quipe met actuellement √† jour notre carte. Pour conna√Ætre nos plats du jour et sp√©cialit√©s, n'h√©sitez pas √† nous contacter directement.</p>
                    <div class="message-actions">
                        <a href="contact.html" class="btn-restaurant">Nous Contacter</a>
                        <a href="#" id="phone-contact-btn" class="btn-restaurant-outline">Appeler</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section informations allerg√®nes et di√©t√©tique -->
        <section class="dietary-info">
            <div class="container">
                <h2>Informations Di√©t√©tiques</h2>
                <div class="dietary-grid">
                    <div class="dietary-card">
                        <div class="dietary-icon">üå±</div>
                        <h3>Options V√©g√©tariennes</h3>
                        <p>Plusieurs plats v√©g√©tariens disponibles sur notre carte</p>
                    </div>
                    <div class="dietary-card">
                        <div class="dietary-icon">üö´üåæ</div>
                        <h3>Sans Gluten</h3>
                        <p>Adaptation possible de certains plats, nous consulter</p>
                    </div>
                    <div class="dietary-card">
                        <div class="dietary-icon">‚ö†Ô∏è</div>
                        <h3>Allerg√®nes</h3>
                        <p>Informez-nous de vos allergies, nous nous adapterons</p>
                    </div>
                    <div class="dietary-card">
                        <div class="dietary-icon">üë∂</div>
                        <h3>Menu Enfant</h3>
                        <p>Portions adapt√©es et plats simples pour les plus jeunes</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Call to action r√©servation -->
        <section class="menu-cta">
            <div class="container">
                <div class="cta-card">
                    <h2>Vous avez fait votre choix ?</h2>
                    <p>R√©servez votre table pour d√©guster nos sp√©cialit√©s dans une ambiance chaleureuse</p>
                    <div class="cta-actions">
                        <a href="reservation.html" class="btn-restaurant">R√©server une Table</a>
                        <a href="contact.html" class="btn-restaurant-outline">Nous Contacter</a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <div class="container">
            <div class="footer-content" id="footer-content">
                <div class="loading">Chargement des informations...</div>
            </div>
            <div class="footer-bottom">
                <p>&copy; <span id="current-year"></span> <span id="footer-business-name"></span>. Tous droits r√©serv√©s.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-storage-compat.js"></script>
    
    <!-- Scripts personnalis√©s -->
    <script src="js/firebase-client.js"></script>
    <script src="js/data-loader.js"></script>
    <script src="js/utils.js"></script>

    <script>
        const BUSINESS_ID = '{{BUSINESS_ID}}';
        const BUSINESS_TYPE = '{{BUSINESS_TYPE}}';
        const CURRENT_PAGE = 'menu';
        
        class MenuPageLoader {
            constructor() {
                this.businessData = null;
                this.activeSection = null;
            }

            async initialize() {
                try {
                    // Charger les donn√©es business
                    this.businessData = await window.FirebaseClient.fetchBusinessData(BUSINESS_ID);
                    
                    // Initialiser la page
                    this.updatePageInfo();
                    this.loadNavigation();
                    this.loadMenuSections();
                    this.setupMenuNavigation();
                    this.setupContactLinks();
                    this.loadFooter();
                    
                } catch (error) {
                    console.error('Erreur lors de l\'initialisation:', error);
                    this.showErrorMessage();
                }
            }

            updatePageInfo() {
                const businessName = this.businessData.data.basic_info.name;
                if (businessName) {
                    document.title = `Menu - ${businessName}`;
                    document.getElementById('business-name').textContent = businessName;
                    document.getElementById('footer-business-name').textContent = businessName;
                }

                document.getElementById('current-year').textContent = new Date().getFullYear();
            }

            loadNavigation() {
                const navMenu = document.getElementById('nav-menu');
                const pages = [
                    { name: 'Accueil', url: 'index.html', active: false },
                    { name: 'Menu', url: 'menu.html', active: true },
                    { name: 'R√©server', url: 'reservation.html', active: false },
                    { name: 'Contact', url: 'contact.html', active: false }
                ];

                navMenu.innerHTML = pages.map(page => 
                    `<li><a href="${page.url}" class="${page.active ? 'active' : ''}">${page.name}</a></li>`
                ).join('');
            }

            loadMenuSections() {
                const data = this.businessData.data;
                const availableSections = [];

                // V√©rifier et charger le menu du jour
                if (data.menu_du_jour && data.menu_du_jour.enabled && data.menu_du_jour.items && data.menu_du_jour.items.length > 0) {
                    this.loadMenuDuJour(data.menu_du_jour);
                    availableSections.push({ id: 'menu-du-jour', name: 'Menu du Jour' });
                }

                // V√©rifier et charger la carte principale
                if (data.carte_principale && data.carte_principale.enabled && data.carte_principale.categories && data.carte_principale.categories.length > 0) {
                    this.loadCartePrincipale(data.carte_principale);
                    availableSections.push({ id: 'carte-principale', name: 'Notre Carte' });
                }

                // V√©rifier et charger le menu boissons
                if (data.menu_boissons && data.menu_boissons.enabled && data.menu_boissons.categories && data.menu_boissons.categories.length > 0) {
                    this.loadMenuBoissons(data.menu_boissons);
                    availableSections.push({ id: 'menu-boissons', name: 'Boissons' });
                }

                // Si aucune section disponible, afficher le message
                if (availableSections.length === 0) {
                    this.showNoMenuMessage();
                } else {
                    this.createMenuNavigation(availableSections);
                    // Afficher la premi√®re section par d√©faut
                    this.showMenuSection(availableSections[0].id);
                }
            }

            loadMenuDuJour(menuDuJour) {
                const container = document.getElementById('menu-du-jour-items');
                const section = document.getElementById('menu-du-jour-section');
                
                section.style.display = 'block';
                
                if (!menuDuJour.items || menuDuJour.items.length === 0) {
                    container.innerHTML = '<p>Menu du jour en cours de pr√©paration...</p>';
                    return;
                }

                const itemsHTML = menuDuJour.items.map(item => `
                    <div class="menu-item-card special">
                        ${item.image_url ? `<img src="${item.image_url}" alt="${item.name}" class="item-image">` : ''}
                        <div class="item-content">
                            <h4 class="item-title">${item.name}</h4>
                            <p class="item-description">${item.description || ''}</p>
                            <div class="item-price">${item.price}</div>
                        </div>
                    </div>
                `).join('');

                container.innerHTML = itemsHTML;
            }

            loadCartePrincipale(cartePrincipale) {
                const container = document.getElementById('carte-principale-categories');
                const section = document.getElementById('carte-principale-section');
                
                section.style.display = 'block';
                
                if (!cartePrincipale.categories || cartePrincipale.categories.length === 0) {
                    container.innerHTML = '<p>Carte en cours de mise √† jour...</p>';
                    return;
                }

                const categoriesHTML = cartePrincipale.categories.map(category => `
                    <div class="menu-category">
                        <h3 class="category-title">${category.name}</h3>
                        <div class="menu-items">
                            ${category.items.map(item => `
                                <div class="menu-item-card">
                                    ${item.image_url ? `<img src="${item.image_url}" alt="${item.name}" class="item-image">` : ''}
                                    <div class="item-content">
                                        <h4 class="item-title">${item.name}</h4>
                                        <p class="item-description">${item.description || ''}</p>
                                        <div class="item-price">${item.price}</div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `).join('');

                container.innerHTML = categoriesHTML;
            }

            loadMenuBoissons(menuBoissons) {
                const container = document.getElementById('menu-boissons-categories');
                const section = document.getElementById('menu-boissons-section');
                
                section.style.display = 'block';
                
                if (!menuBoissons.categories || menuBoissons.categories.length === 0) {
                    container.innerHTML = '<p>Carte des boissons en cours de mise √† jour...</p>';
                    return;
                }

                const categoriesHTML = menuBoissons.categories.map(category => `
                    <div class="menu-category">
                        <h3 class="category-title">${category.name}</h3>
                        <div class="menu-items beverages">
                            ${category.items.map(item => `
                                <div class="menu-item-card beverage">
                                    <div class="item-content">
                                        <h4 class="item-title">${item.name}</h4>
                                        ${item.description ? `<p class="item-description">${item.description}</p>` : ''}
                                        <div class="item-price">${item.price}</div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `).join('');

                container.innerHTML = categoriesHTML;
            }

            createMenuNavigation(sections) {
                const container = document.getElementById('menu-nav-buttons');
                const navigation = document.getElementById('menu-navigation');
                
                navigation.style.display = 'block';
                
                const buttonsHTML = sections.map((section, index) => `
                    <button class="menu-nav-btn ${index === 0 ? 'active' : ''}" onclick="menuLoader.showMenuSection('${section.id}')">
                        ${section.name}
                    </button>
                `).join('');

                container.innerHTML = buttonsHTML;
            }

            showMenuSection(sectionId) {
                // Masquer toutes les sections
                document.querySelectorAll('.menu-section').forEach(section => {
                    section.style.display = 'none';
                });

                // Afficher la section demand√©e
                const targetSection = document.getElementById(`${sectionId}-section`);
                if (targetSection) {
                    targetSection.style.display = 'block';
                    this.activeSection = sectionId;
                }

                // Mettre √† jour la navigation
                document.querySelectorAll('.menu-nav-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                
                const activeBtn = Array.from(document.querySelectorAll('.menu-nav-btn'))
                    .find(btn => btn.onclick.toString().includes(sectionId));
                if (activeBtn) {
                    activeBtn.classList.add('active');
                }
            }

            setupMenuNavigation() {
                // Rendre la navigation sticky au scroll
                window.addEventListener('scroll', () => {
                    const navigation = document.getElementById('menu-navigation');
                    const header = document.querySelector('.site-header');
                    
                    if (navigation && navigation.style.display !== 'none') {
                        const headerHeight = header.offsetHeight;
                        if (window.scrollY > headerHeight + 200) {
                            navigation.classList.add('sticky');
                            navigation.style.top = `${headerHeight}px`;
                        } else {
                            navigation.classList.remove('sticky');
                        }
                    }
                });
            }

            showNoMenuMessage() {
                document.getElementById('no-menu-message').style.display = 'block';
            }

            setupContactLinks() {
                const basicInfo = this.businessData.data.basic_info;
                
                if (basicInfo.phone) {
                    document.getElementById('phone-contact-btn').href = `tel:${basicInfo.phone}`;
                    document.getElementById('phone-contact-btn').style.display = 'inline-block';
                } else {
                    document.getElementById('phone-contact-btn').style.display = 'none';
                }
            }

            loadFooter() {
                const footerContent = document.getElementById('footer-content');
                const basicInfo = this.businessData.data.basic_info;
                
                let footerHTML = `
                    <div class="footer-section">
                        <h3>${basicInfo.name || 'Notre Restaurant'}</h3>
                        ${basicInfo.description ? `<p>${basicInfo.description}</p>` : ''}
                    </div>
                `;

                if (basicInfo.address || basicInfo.phone || basicInfo.email) {
                    footerHTML += `
                        <div class="footer-section">
                            <h3>Contact</h3>
                            ${basicInfo.address ? `<p>üìç ${basicInfo.address}</p>` : ''}
                            ${basicInfo.phone ? `<p>üìû <a href="tel:${basicInfo.phone}">${basicInfo.phone}</a></p>` : ''}
                            ${basicInfo.email ? `<p>‚úâÔ∏è <a href="mailto:${basicInfo.email}">${basicInfo.email}</a></p>` : ''}
                        </div>
                    `;
                }

                if (this.hasOpeningHours(basicInfo.hours)) {
                    footerHTML += `
                        <div class="footer-section">
                            <h3>Horaires</h3>
                            ${this.renderOpeningHours(basicInfo.hours)}
                        </div>
                    `;
                }

                footerContent.innerHTML = footerHTML;
            }

            hasOpeningHours(hours) {
                return hours && Object.values(hours).some(h => h && h.trim());
            }

            renderOpeningHours(hours) {
                const dayNames = {
                    monday: 'Lun', tuesday: 'Mar', wednesday: 'Mer',
                    thursday: 'Jeu', friday: 'Ven', saturday: 'Sam', sunday: 'Dim'
                };

                return Object.entries(hours)
                    .filter(([day, time]) => time && time.trim())
                    .map(([day, time]) => `<p><strong>${dayNames[day]}:</strong> ${time}</p>`)
                    .join('');
            }

            showErrorMessage() {
                document.querySelector('main').innerHTML = `
                    <div class="container" style="text-align: center; padding: 4rem 0;">
                        <h2>Erreur de chargement</h2>
                        <p>Impossible de charger le menu.</p>
                        <button onclick="location.reload()" class="btn-restaurant" style="margin-top: 2rem;">
                            Recharger la page
                        </button>
                    </div>
                `;
            }
        }

        // Fonction pour le menu mobile
        function toggleMobileMenu() {
            const navMenu = document.getElementById('nav-menu');
            navMenu.classList.toggle('active');
        }

        // Initialisation de la page
        let menuLoader;
        window.addEventListener('DOMContentLoaded', async function() {
            try {
                menuLoader = new MenuPageLoader();
                await menuLoader.initialize();
            } catch (error) {
                console.error('Erreur d\'initialisation de la page menu:', error);
            }
        });
    </script>

    <style>
        /* Styles sp√©cifiques √† la page menu */
        .menu-page {
            padding-top: 0;
        }

        .menu-header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 6rem 0 4rem;
            text-align: center;
            margin-top: 80px;
        }

        .menu-header h1 {
            font-family: var(--font-primary);
            font-size: 3.5rem;
            color: white;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        /* Navigation du menu */
        .menu-navigation {
            background: white;
            padding: 1.5rem 0;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
            position: relative;
            z-index: 100;
            display: none;
        }

        .menu-navigation.sticky {
            position: fixed;
            top: 80px;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(15px);
        }

        .menu-nav-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .menu-nav-btn {
            background: transparent;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: var(--font-secondary);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .menu-nav-btn:hover,
        .menu-nav-btn.active {
            background: var(--primary-color);
            color: white;
            transform: translateY(-2px);
            box-shadow: var(--shadow-warm);
        }

        /* Sections du menu */
        .menu-section {
            padding: 5rem 0;
        }

        .menu-section:nth-child(even) {
            background: white;
        }

        .menu-section:nth-child(odd) {
            background: var(--light-brown);
        }

        .section-title {
            font-family: var(--font-primary);
            font-size: 2.8rem;
            text-align: center;
            color: var(--primary-color);
            margin-bottom: 1rem;
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            width: 80px;
            height: 3px;
            background: var(--accent-color);
            transform: translateX(-50%);
        }

        .section-subtitle {
            text-align: center;
            font-size: 1.2rem;
            color: var(--text-muted);
            margin-bottom: 3rem;
            font-style: italic;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Menu du jour sp√©cial */
        .menu-du-jour-container {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-radius: 20px;
            padding: 3rem;
            margin: 2rem 0;
            position: relative;
            overflow: hidden;
        }

        .menu-du-jour-container::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="2" fill="white" opacity="0.1"/></svg>');
            animation: float 20s linear infinite;
            pointer-events: none;
        }

        @keyframes float {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .menu-du-jour-container .menu-items {
            position: relative;
            z-index: 1;
        }

        /* Categories de menu */
        .menu-category {
            margin-bottom: 4rem;
        }

        .category-title {
            font-family: var(--font-primary);
            font-size: 2.2rem;
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 2.5rem;
            position: relative;
        }

        .category-title::before,
        .category-title::after {
            content: '‚óÜ';
            color: var(--accent-color);
            font-size: 1rem;
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
        }

        .category-title::before {
            left: -40px;
        }

        .category-title::after {
            right: -40px;
        }

        /* Items de menu */
        .menu-items {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
        }

        .menu-items.beverages {
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        }

        .menu-item-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow-warm);
            transition: all 0.3s ease;
            border: 1px solid rgba(212, 121, 60, 0.1);
        }

        .menu-item-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-deep);
        }

        .menu-item-card.special {
            border: 2px solid var(--accent-color);
            background: rgba(255, 255, 255, 0.95);
        }

        .menu-item-card.beverage {
            min-height: 120px;
            display: flex;
            align-items: center;
        }

        .item-image {
            width: 100%;
            height: 220px;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .menu-item-card:hover .item-image {
            transform: scale(1.05);
        }

        .item-content {
            padding: 1.8rem;
        }

        .menu-item-card.beverage .item-content {
            padding: 1.5rem;
            width: 100%;
        }

        .item-title {
            font-family: var(--font-primary);
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 0.8rem;
        }

        .item-description {
            color: var(--text-muted);
            line-height: 1.6;
            margin-bottom: 1.2rem;
            font-size: 0.95rem;
        }

        .item-price {
            font-family: var(--font-primary);
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--secondary-color);
            display: flex;
            align-items: center;
        }

        .item-price::before {
            content: '';
            margin-right: 0.3rem;
        }

        .item-price::after {
            content: '‚Ç¨';
            font-size: 1rem;
            margin-left: 0.2rem;
        }

        /* Message si pas de menu */
        .no-menu-message {
            padding: 6rem 0;
            background: var(--light-brown);
        }

        .message-card {
            max-width: 600px;
            margin: 0 auto;
            text-align: center;
            background: white;
            padding: 4rem 3rem;
            border-radius: 20px;
            box-shadow: var(--shadow-warm);
        }

        .message-card h2 {
            font-family: var(--font-primary);
            color: var(--primary-color);
            font-size: 2.2rem;
            margin-bottom: 1.5rem;
        }

        .message-card p {
            color: var(--text-muted);
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 2.5rem;
        }

        .message-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        /* Informations di√©t√©tiques */
        .dietary-info {
            padding: 5rem 0;
            background: white;
        }

        .dietary-info h2 {
            font-family: var(--font-primary);
            text-align: center;
            color: var(--primary-color);
            margin-bottom: 3rem;
            font-size: 2.5rem;
        }

        .dietary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .dietary-card {
            background: var(--light-brown);
            padding: 2.5rem;
            text-align: center;
            border-radius: 15px;
            transition: all 0.3s ease;
            border: 1px solid rgba(212, 121, 60, 0.1);
        }

        .dietary-card:hover {
            background: rgba(212, 121, 60, 0.1);
            transform: translateY(-5px);
            box-shadow: var(--shadow-warm);
        }

        .dietary-icon {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
        }

        .dietary-card h3 {
            font-family: var(--font-primary);
            color: var(--primary-color);
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .dietary-card p {
            color: var(--text-muted);
            line-height: 1.6;
        }

        /* Call to action */
        .menu-cta {
            padding: 5rem 0;
            background: var(--primary-color);
        }

        .cta-card {
            max-width: 700px;
            margin: 0 auto;
            text-align: center;
            color: white;
        }

        .cta-card h2 {
            color: white;
            font-family: var(--font-primary);
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
        }

        .cta-card p {
            font-size: 1.2rem;
            margin-bottom: 2.5rem;
            line-height: 1.6;
        }

        .cta-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        /* √âtats de chargement */
        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 3rem;
            color: var(--text-muted);
            font-style: italic;
        }

        .loading::before {
            content: '';
            width: 20px;
            height: 20px;
            border: 2px solid var(--primary-color);
            border-top: 2px solid transparent;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 0.5rem;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .menu-header h1 {
                font-size: 2.5rem;
            }

            .section-title {
                font-size: 2.2rem;
            }

            .menu-nav-buttons {
                justify-content: flex-start;
                overflow-x: auto;
                padding: 0 1rem;
                scrollbar-width: thin;
            }

            .menu-nav-btn {
                white-space: nowrap;
                flex-shrink: 0;
                font-size: 0.8rem;
                padding: 0.6rem 1.2rem;
            }

            .menu-items {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .category-title::before,
            .category-title::after {
                display: none;
            }

            .menu-du-jour-container {
                padding: 2rem 1rem;
            }

            .item-content {
                padding: 1.2rem;
            }

            .dietary-grid {
                grid-template-columns: 1fr;
            }

            .message-card {
                padding: 3rem 2rem;
            }

            .cta-actions,
            .message-actions {
                flex-direction: column;
                align-items: center;
            }
        }

        @media (max-width: 480px) {
            .menu-header {
                padding: 4rem 0 3rem;
            }

            .menu-header h1 {
                font-size: 2rem;
            }

            .menu-section {
                padding: 3rem 0;
            }

            .section-title {
                font-size: 1.8rem;
            }

            .category-title {
                font-size: 1.8rem;
            }

            .menu-navigation {
                padding: 1rem 0;
            }

            .menu-nav-btn {
                padding: 0.5rem 1rem;
                font-size: 0.75rem;
            }

            .dietary-card {
                padding: 2rem 1.5rem;
            }

            .item-image {
                height: 180px;
            }

            .cta-card h2 {
                font-size: 2rem;
            }

            .message-card h2 {
                font-size: 1.8rem;
            }
        }

        /* Animations */
        .menu-item-card,
        .dietary-card {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.6s ease forwards;
        }

        .menu-item-card:nth-child(2) { animation-delay: 0.1s; }
        .menu-item-card:nth-child(3) { animation-delay: 0.2s; }
        .menu-item-card:nth-child(4) { animation-delay: 0.3s; }

        .dietary-card:nth-child(2) { animation-delay: 0.2s; }
        .dietary-card:nth-child(3) { animation-delay: 0.4s; }
        .dietary-card:nth-child(4) { animation-delay: 0.6s; }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Print styles */
        @media print {
            .site-header,
            .menu-navigation,
            .dietary-info,
            .menu-cta,
            .site-footer {
                display: none !important;
            }

            .menu-header {
                background: none !important;
                color: black !important;
                padding: 2rem 0 !important;
                margin-top: 0 !important;
            }

            .menu-header h1 {
                color: black !important;
                text-shadow: none !important;
                font-size: 2rem !important;
            }

            .menu-section {
                background: white !important;
                padding: 2rem 0 !important;
            }

            .section-title {
                color: black !important;
                font-size: 1.5rem !important;
            }

            .category-title {
                color: black !important;
                font-size: 1.3rem !important;
            }

            .menu-item-card {
                border: 1px solid #ddd !important;
                break-inside: avoid;
                box-shadow: none !important;
                margin-bottom: 1rem;
            }

            .item-title {
                color: black !important;
                font-size: 1.1rem !important;
            }

            .item-price {
                color: black !important;
                font-weight: bold !important;
            }

            .item-image {
                display: none !important;
            }

            .menu-du-jour-container {
                background: #f0f0f0 !important;
                border: 2px solid #333 !important;
            }

            .menu-du-jour-container::before {
                display: none !important;
            }
        }
    </style>
</body>
</html>