<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>R√©servation - {{PAGE_TITLE}}</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/style.css">
    <meta name="description" content="R√©servez votre table en ligne ou commandez vos plats pour emporter. R√©servation rapide et facile">
</head>
<body>
    <header class="site-header">
        <nav class="navbar">
            <div class="container">
                <div class="nav-brand">
                    <h1 id="business-name">Chargement...</h1>
                </div>
                <ul class="nav-menu" id="nav-menu">
                    <!-- Navigation g√©n√©r√©e dynamiquement -->
                </ul>
                <div class="nav-mobile">
                    <button class="nav-toggle" onclick="toggleMobileMenu()">‚ò∞</button>
                </div>
            </div>
        </nav>
    </header>

    <main class="reservation-page">
        <!-- Header de la page r√©servation -->
        <section class="reservation-header">
            <div class="container">
                <h1>R√©servation & Commandes</h1>
                <p class="hero-subtitle">R√©servez votre table ou commandez vos plats pr√©f√©r√©s</p>
            </div>
        </section>

        <!-- Options de r√©servation -->
        <section class="reservation-options">
            <div class="container">
                <div class="options-grid">
                    <div class="option-card" id="table-reservation">
                        <div class="option-icon">üçΩÔ∏è</div>
                        <h3>R√©server une Table</h3>
                        <p>R√©servez votre table pour d√Æner sur place dans une ambiance conviviale</p>
                        <button class="btn-restaurant" onclick="showReservationForm()">
                            R√©server Maintenant
                        </button>
                    </div>
                    
                    <div class="option-card" id="takeaway-order">
                        <div class="option-icon">ü•°</div>
                        <h3>Commander √† Emporter</h3>
                        <p>Commandez vos plats pr√©f√©r√©s et venez les r√©cup√©rer au restaurant</p>
                        <button class="btn-restaurant" onclick="showOrderOptions()">
                            Commander
                        </button>
                    </div>
                    
                    <div class="option-card" id="phone-contact">
                        <div class="option-icon">üìû</div>
                        <h3>R√©servation T√©l√©phonique</h3>
                        <p>Appelez-nous directement pour une r√©servation personnalis√©e</p>
                        <a href="#" id="phone-link" class="btn-restaurant">
                            Appeler
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Formulaire de r√©servation de table -->
        <section class="reservation-form-section" id="reservation-form-section" style="display: none;">
            <div class="container">
                <div class="form-container">
                    <h2>R√©server une Table</h2>
                    
                    <form id="reservation-form" class="reservation-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="res-name">Nom *</label>
                                <input type="text" id="res-name" name="name" required>
                            </div>
                            <div class="form-group">
                                <label for="res-email">Email *</label>
                                <input type="email" id="res-email" name="email" required>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="res-phone">T√©l√©phone *</label>
                                <input type="tel" id="res-phone" name="phone" required>
                            </div>
                            <div class="form-group">
                                <label for="res-guests">Nombre de personnes *</label>
                                <select id="res-guests" name="guests" required>
                                    <option value="">Choisir</option>
                                    <option value="1">1 personne</option>
                                    <option value="2">2 personnes</option>
                                    <option value="3">3 personnes</option>
                                    <option value="4">4 personnes</option>
                                    <option value="5">5 personnes</option>
                                    <option value="6">6 personnes</option>
                                    <option value="7">7 personnes</option>
                                    <option value="8">8 personnes</option>
                                    <option value="more">Plus de 8 (nous contacter)</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="res-date">Date *</label>
                                <input type="date" id="res-date" name="date" required min="">
                            </div>
                            <div class="form-group">
                                <label for="res-time">Heure souhait√©e *</label>
                                <select id="res-time" name="time" required>
                                    <option value="">Choisir l'heure</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="res-occasion">Occasion sp√©ciale</label>
                            <select id="res-occasion" name="occasion">
                                <option value="">Aucune occasion particuli√®re</option>
                                <option value="anniversary">Anniversaire</option>
                                <option value="birthday">F√™te d'anniversaire</option>
                                <option value="business">Repas d'affaires</option>
                                <option value="romantic">D√Æner romantique</option>
                                <option value="family">R√©union de famille</option>
                                <option value="celebration">C√©l√©bration</option>
                                <option value="other">Autre</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="res-comments">Commentaires ou demandes sp√©ciales</label>
                            <textarea id="res-comments" name="comments" rows="3" placeholder="Allergies, pr√©f√©rences de table, etc."></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="res-consent" required>
                                J'accepte que mes donn√©es soient utilis√©es pour traiter ma r√©servation
                            </label>
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" class="btn-secondary" onclick="hideReservationForm()">
                                Annuler
                            </button>
                            <button type="submit" class="btn-restaurant" id="reservation-submit">
                                Confirmer la R√©servation
                            </button>
                        </div>
                    </form>

                    <div id="reservation-messages"></div>
                </div>
            </div>
        </section>

        <!-- Widget GloriaFood (si activ√©) -->
        <section class="widget-section" id="gloria-food-section" style="display: none;">
            <div class="container">
                <div class="widget-container">
                    <h2 class="widget-title">Commander en Ligne</h2>
                    <div class="widget-loading" id="gloria-food-loading">
                        Chargement du syst√®me de commande...
                    </div>
                    <div id="gloria-food-content" style="display: none;">
                        <!-- Le widget GloriaFood sera inject√© ici -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Informations utiles -->
        <section class="reservation-info">
            <div class="container">
                <h2>Informations Pratiques</h2>
                
                <div class="info-grid">
                    <div class="info-item">
                        <div class="info-icon">‚è∞</div>
                        <h3>Horaires de Service</h3>
                        <div id="service-hours">
                            <div class="loading">Chargement des horaires...</div>
                        </div>
                    </div>
                    
                    <div class="info-item">
                        <div class="info-icon">üìã</div>
                        <h3>Politique de R√©servation</h3>
                        <ul>
                            <li>R√©servation recommand√©e, surtout le weekend</li>
                            <li>Confirmation par email ou t√©l√©phone</li>
                            <li>Modification possible jusqu'√† 2h avant</li>
                            <li>Table maintenue 15 minutes apr√®s l'heure</li>
                        </ul>
                    </div>
                    
                    <div class="info-item">
                        <div class="info-icon">üç∑</div>
                        <h3>Services Disponibles</h3>
                        <ul>
                            <li>Menu v√©g√©tarien et sans gluten</li>
                            <li>Adaptation pour allergies alimentaires</li>
                            <li>Groupes et √©v√©nements priv√©s</li>
                            <li>Vente √† emporter</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact d'urgence -->
        <section class="emergency-contact">
            <div class="container">
                <div class="emergency-card">
                    <h3>Besoin d'aide ?</h3>
                    <p>Pour toute question sur votre r√©servation ou pour des demandes sp√©ciales</p>
                    <div class="emergency-actions">
                        <a href="contact.html" class="btn-restaurant-outline">
                            Nous Contacter
                        </a>
                        <a href="#" id="emergency-phone" class="btn-restaurant">
                            Appeler Maintenant
                        </a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <div class="container">
            <div class="footer-content" id="footer-content">
                <div class="loading">Chargement des informations...</div>
            </div>
            <div class="footer-bottom">
                <p>&copy; <span id="current-year"></span> <span id="footer-business-name"></span>. Tous droits r√©serv√©s.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-storage-compat.js"></script>
    
    <!-- Scripts personnalis√©s -->
    <script src="js/firebase-client.js"></script>
    <script src="js/data-loader.js"></script>
    <script src="js/utils.js"></script>

    <script>
        const BUSINESS_ID = '{{BUSINESS_ID}}';
        const BUSINESS_TYPE = '{{BUSINESS_TYPE}}';
        const CURRENT_PAGE = 'reservation';
        
        class ReservationPageLoader {
            constructor() {
                this.businessData = null;
            }

            async initialize() {
                try {
                    // Charger les donn√©es business
                    this.businessData = await window.FirebaseClient.fetchBusinessData(BUSINESS_ID);
                    
                    // Initialiser la page
                    this.updatePageInfo();
                    this.loadNavigation();
                    this.setupContactLinks();
                    this.loadServiceHours();
                    this.setupDateTimeInputs();
                    this.loadFooter();
                    this.setupReservationForm();
                    this.checkGloriaFoodWidget();
                    
                } catch (error) {
                    console.error('Erreur lors de l\'initialisation:', error);
                    this.showErrorMessage();
                }
            }

            updatePageInfo() {
                const businessName = this.businessData.data.basic_info.name;
                if (businessName) {
                    document.title = `R√©servation - ${businessName}`;
                    document.getElementById('business-name').textContent = businessName;
                    document.getElementById('footer-business-name').textContent = businessName;
                }

                document.getElementById('current-year').textContent = new Date().getFullYear();
            }

            loadNavigation() {
                const navMenu = document.getElementById('nav-menu');
                const pages = [
                    { name: 'Accueil', url: 'index.html', active: false },
                    { name: 'Menu', url: 'menu.html', active: false },
                    { name: 'R√©server', url: 'reservation.html', active: true },
                    { name: 'Contact', url: 'contact.html', active: false }
                ];

                navMenu.innerHTML = pages.map(page => 
                    `<li><a href="${page.url}" class="${page.active ? 'active' : ''}">${page.name}</a></li>`
                ).join('');
            }

            setupContactLinks() {
                const basicInfo = this.businessData.data.basic_info;
                
                if (basicInfo.phone) {
                    document.getElementById('phone-link').href = `tel:${basicInfo.phone}`;
                    document.getElementById('emergency-phone').href = `tel:${basicInfo.phone}`;
                    document.getElementById('emergency-phone').style.display = 'inline-block';
                } else {
                    document.getElementById('phone-contact').style.display = 'none';
                    document.getElementById('emergency-phone').style.display = 'none';
                }
            }

            loadServiceHours() {
                const container = document.getElementById('service-hours');
                const hours = this.businessData.data.basic_info.hours;
                
                if (!this.hasOpeningHours(hours)) {
                    container.innerHTML = '<p>Horaires disponibles par t√©l√©phone</p>';
                    return;
                }

                const dayNames = {
                    monday: 'Lun', tuesday: 'Mar', wednesday: 'Mer',
                    thursday: 'Jeu', friday: 'Ven', saturday: 'Sam', sunday: 'Dim'
                };

                let hoursHTML = '<div class="hours-compact">';
                Object.entries(hours)
                    .filter(([day, time]) => time && time.trim())
                    .forEach(([day, time]) => {
                        hoursHTML += `<div class="hour-item">
                            <strong>${dayNames[day]}:</strong> ${time}
                        </div>`;
                    });
                hoursHTML += '</div>';

                container.innerHTML = hoursHTML;
            }

            hasOpeningHours(hours) {
                return hours && Object.values(hours).some(h => h && h.trim());
            }

            setupDateTimeInputs() {
                // D√©finir la date minimum (aujourd'hui)
                const today = new Date();
                const minDate = today.toISOString().split('T')[0];
                document.getElementById('res-date').setAttribute('min', minDate);
                
                // G√©n√©rer les cr√©neaux horaires
                this.generateTimeSlots();
                
                // √âcouter les changements de date pour adapter les horaires
                document.getElementById('res-date').addEventListener('change', () => {
                    this.updateAvailableTimeSlots();
                });
            }

            generateTimeSlots() {
                const timeSelect = document.getElementById('res-time');
                const slots = [];
                
                // Cr√©neaux de midi (12h-14h)
                for (let hour = 12; hour <= 14; hour++) {
                    for (let min of ['00', '30']) {
                        if (hour === 14 && min === '30') break;
                        slots.push(`${hour.toString().padStart(2, '0')}:${min}`);
                    }
                }
                
                // Cr√©neaux du soir (19h-21h30)
                for (let hour = 19; hour <= 21; hour++) {
                    for (let min of ['00', '30']) {
                        if (hour === 21 && min === '30') break;
                        slots.push(`${hour.toString().padStart(2, '0')}:${min}`);
                    }
                }
                
                timeSelect.innerHTML = '<option value="">Choisir l\'heure</option>' + 
                    slots.map(slot => `<option value="${slot}">${slot}</option>`).join('');
            }

            updateAvailableTimeSlots() {
                // Ici on pourrait impl√©menter une logique plus complexe
                // pour d√©sactiver les cr√©neaux d√©j√† r√©serv√©s
                console.log('Mise √† jour des cr√©neaux disponibles');
            }

            loadFooter() {
                const footerContent = document.getElementById('footer-content');
                const basicInfo = this.businessData.data.basic_info;
                
                let footerHTML = `
                    <div class="footer-section">
                        <h3>${basicInfo.name || 'Notre Restaurant'}</h3>
                        ${basicInfo.description ? `<p>${basicInfo.description}</p>` : ''}
                    </div>
                `;

                if (basicInfo.address || basicInfo.phone || basicInfo.email) {
                    footerHTML += `
                        <div class="footer-section">
                            <h3>Contact</h3>
                            ${basicInfo.address ? `<p>üìç ${basicInfo.address}</p>` : ''}
                            ${basicInfo.phone ? `<p>üìû <a href="tel:${basicInfo.phone}">${basicInfo.phone}</a></p>` : ''}
                            ${basicInfo.email ? `<p>‚úâÔ∏è <a href="mailto:${basicInfo.email}">${basicInfo.email}</a></p>` : ''}
                        </div>
                    `;
                }

                if (this.hasOpeningHours(basicInfo.hours)) {
                    footerHTML += `
                        <div class="footer-section">
                            <h3>Horaires</h3>
                            ${this.renderOpeningHours(basicInfo.hours)}
                        </div>
                    `;
                }

                footerContent.innerHTML = footerHTML;
            }

            renderOpeningHours(hours) {
                const dayNames = {
                    monday: 'Lun', tuesday: 'Mar', wednesday: 'Mer',
                    thursday: 'Jeu', friday: 'Ven', saturday: 'Sam', sunday: 'Dim'
                };

                return Object.entries(hours)
                    .filter(([day, time]) => time && time.trim())
                    .map(([day, time]) => `<p><strong>${dayNames[day]}:</strong> ${time}</p>`)
                    .join('');
            }

            setupReservationForm() {
                const form = document.getElementById('reservation-form');
                
                form.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    await this.handleReservationSubmit(e);
                });
            }

            async handleReservationSubmit(event) {
                const submitBtn = document.getElementById('reservation-submit');
                const messagesContainer = document.getElementById('reservation-messages');
                
                // R√©cup√©rer les donn√©es du formulaire
                const formData = new FormData(event.target);
                const reservationData = {
                    business_id: BUSINESS_ID,
                    name: formData.get('name'),
                    email: formData.get('email'),
                    phone: formData.get('phone'),
                    guests: parseInt(formData.get('guests')),
                    date: formData.get('date'),
                    time: formData.get('time'),
                    occasion: formData.get('occasion'),
                    comments: formData.get('comments'),
                    timestamp: new Date(),
                    status: 'nouveau'
                };

                // √âtat de chargement
                this.setSubmitLoading(submitBtn, true);
                messagesContainer.innerHTML = '';

                try {
                    // Envoyer la r√©servation via Firebase
                    await window.FirebaseClient.sendReservation(reservationData);
                    
                    // Succ√®s
                    messagesContainer.innerHTML = `
                        <div class="success-message">
                            ‚úÖ Votre r√©servation a √©t√© enregistr√©e ! Nous vous confirmerons par email ou t√©l√©phone dans les plus brefs d√©lais.
                        </div>
                    `;
                    
                    // R√©initialiser le formulaire
                    event.target.reset();
                    
                    // Masquer le formulaire apr√®s succ√®s
                    setTimeout(() => {
                        this.hideReservationForm();
                    }, 3000);
                    
                } catch (error) {
                    console.error('Erreur lors de l\'envoi:', error);
                    messagesContainer.innerHTML = `
                        <div class="error-message">
                            ‚ùå Erreur lors de l'enregistrement. Veuillez r√©essayer ou nous contacter par t√©l√©phone.
                        </div>
                    `;
                } finally {
                    this.setSubmitLoading(submitBtn, false);
                }
            }

            setSubmitLoading(button, isLoading) {
                if (isLoading) {
                    button.disabled = true;
                    button.innerHTML = '<span class="spinner"></span> Envoi en cours...';
                } else {
                    button.disabled = false;
                    button.innerHTML = 'Confirmer la R√©servation';
                }
            }

            checkGloriaFoodWidget() {
                const widgets = this.businessData.data.widgets;
                if (widgets && widgets.gloria_food && widgets.gloria_food.enabled) {
                    this.loadGloriaFoodWidget(widgets.gloria_food);
                }
            }

            loadGloriaFoodWidget(config) {
                const section = document.getElementById('gloria-food-section');
                const loading = document.getElementById('gloria-food-loading');
                const content = document.getElementById('gloria-food-content');
                
                section.style.display = 'block';
                
                // Simuler le chargement du widget
                setTimeout(() => {
                    loading.style.display = 'none';
                    content.style.display = 'block';
                    
                    if (config.widget_code) {
                        content.innerHTML = config.widget_code;
                    } else {
                        content.innerHTML = `
                            <p>Widget GloriaFood activ√© pour ce restaurant.</p>
                            <p>Restaurant ID: ${config.restaurant_id || 'Non configur√©'}</p>
                        `;
                    }
                }, 2000);
            }

            showErrorMessage() {
                document.querySelector('main').innerHTML = `
                    <div class="container" style="text-align: center; padding: 4rem 0;">
                        <h2>Erreur de chargement</h2>
                        <p>Impossible de charger les informations de r√©servation.</p>
                        <button onclick="location.reload()" class="btn-restaurant" style="margin-top: 2rem;">
                            Recharger la page
                        </button>
                    </div>
                `;
            }
        }

        // Fonctions globales pour la navigation
        function toggleMobileMenu() {
            const navMenu = document.getElementById('nav-menu');
            navMenu.classList.toggle('active');
        }

        function showReservationForm() {
            document.getElementById('reservation-form-section').style.display = 'block';
            document.getElementById('reservation-form-section').scrollIntoView({ behavior: 'smooth' });
        }

        function hideReservationForm() {
            document.getElementById('reservation-form-section').style.display = 'none';
        }

        function showOrderOptions() {
            const gloriaFoodSection = document.getElementById('gloria-food-section');
            if (gloriaFoodSection && gloriaFoodSection.style.display !== 'none') {
                gloriaFoodSection.scrollIntoView({ behavior: 'smooth' });
            } else {
                // Fallback vers le contact t√©l√©phonique
                const phone = document.getElementById('phone-link').href;
                if (phone) {
                    window.location.href = phone;
                }
            }
        }

        // Initialisation de la page
        let reservationLoader;
        window.addEventListener('DOMContentLoaded', async function() {
            try {
                reservationLoader = new ReservationPageLoader();
                await reservationLoader.initialize();
            } catch (error) {
                console.error('Erreur d\'initialisation de la page r√©servation:', error);
            }
        });
    </script>

    <style>
        /* Styles sp√©cifiques √† la page r√©servation */
        .reservation-page {
            padding-top: 0;
        }

        .reservation-header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 6rem 0 4rem;
            text-align: center;
            margin-top: 80px;
        }

        .reservation-header h1 {
            font-family: var(--font-primary);
            font-size: 3.5rem;
            color: white;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        /* Options de r√©servation */
        .reservation-options {
            padding: 5rem 0;
            background: white;
        }

        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .option-card {
            background: var(--light-brown);
            padding: 3rem 2rem;
            text-align: center;
            border-radius: 20px;
            box-shadow: var(--shadow-warm);
            transition: all 0.3s ease;
            border: 1px solid rgba(212, 121, 60, 0.1);
        }

        .option-card:hover {
            background: rgba(212, 121, 60, 0.1);
            transform: translateY(-10px);
            box-shadow: var(--shadow-deep);
        }

        .option-icon {
            font-size: 4rem;
            margin-bottom: 1.5rem;
            display: block;
        }

        .option-card h3 {
            font-family: var(--font-primary);
            color: var(--primary-color);
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .option-card p {
            color: var(--text-muted);
            line-height: 1.6;
            margin-bottom: 2rem;
        }

        /* Formulaire de r√©servation */
        .reservation-form-section {
            padding: 5rem 0;
            background: var(--light-brown);
        }

        .form-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 3rem;
            border-radius: 20px;
            box-shadow: var(--shadow-warm);
        }

        .form-container h2 {
            font-family: var(--font-primary);
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 2rem;
            font-size: 2rem;
        }

        .reservation-form {
            margin-bottom: 2rem;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--text-color);
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: white;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(212, 121, 60, 0.1);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
            font-family: inherit;
        }

        .checkbox-label {
            display: flex;
            align-items: flex-start;
            gap: 0.5rem;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .checkbox-label input[type="checkbox"] {
            width: auto;
            margin: 0;
            flex-shrink: 0;
            margin-top: 0.125rem;
        }

        .form-actions {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            margin-top: 2rem;
        }

        .btn-secondary {
            background: transparent;
            color: var(--text-color);
            border: 2px solid var(--border-color);
            padding: 0.8rem 2rem;
            border-radius: 50px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: all 0.3s ease;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
        }

        .btn-secondary:hover {
            background: var(--border-color);
            color: white;
        }

        /* Messages */
        .success-message,
        .error-message {
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1rem;
            font-weight: 500;
        }

        .success-message {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .error-message {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        /* Widget section */
        .widget-section {
            padding: 5rem 0;
            background: white;
        }

        /* Informations pratiques */
        .reservation-info {
            padding: 5rem 0;
            background: var(--light-brown);
        }

        .reservation-info h2 {
            font-family: var(--font-primary);
            text-align: center;
            color: var(--primary-color);
            margin-bottom: 3rem;
            font-size: 2.5rem;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .info-item {
            background: white;
            padding: 2.5rem;
            border-radius: 15px;
            box-shadow: var(--shadow-warm);
            text-align: center;
            transition: all 0.3s ease;
        }

        .info-item:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-deep);
        }

        .info-icon {
            font-size: 3rem;
            margin-bottom: 1.5rem;
            display: block;
        }

        .info-item h3 {
            font-family: var(--font-primary);
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
        }

        .info-item ul {
            list-style: none;
            padding: 0;
        }

        .info-item li {
            padding: 0.5rem 0;
            color: var(--text-muted);
            position: relative;
            padding-left: 1.5rem;
        }

        .info-item li::before {
            content: '‚úì';
            position: absolute;
            left: 0;
            color: var(--primary-color);
            font-weight: bold;
        }

        .hours-compact {
            text-align: left;
        }

        .hour-item {
            margin-bottom: 0.5rem;
            color: var(--text-muted);
        }

        .hour-item strong {
            color: var(--text-color);
            margin-right: 0.5rem;
        }

        /* Contact d'urgence */
        .emergency-contact {
            padding: 4rem 0;
            background: var(--primary-color);
        }

        .emergency-card {
            max-width: 600px;
            margin: 0 auto;
            text-align: center;
            color: white;
        }

        .emergency-card h3 {
            color: white;
            font-family: var(--font-primary);
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .emergency-card p {
            margin-bottom: 2rem;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .emergency-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn-restaurant-outline {
            background: transparent;
            color: white;
            border: 2px solid white;
            padding: 0.8rem 2rem;
            border-radius: 50px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .btn-restaurant-outline:hover {
            background: white;
            color: var(--primary-color);
        }

        /* Spinner */
        .spinner {
            display: inline-block;
            width: 1rem;
            height: 1rem;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s linear infinite;
            margin-right: 0.5rem;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .reservation-header h1 {
                font-size: 2.5rem;
            }

            .options-grid {
                grid-template-columns: 1fr;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .form-container {
                padding: 2rem 1rem;
            }

            .form-actions {
                flex-direction: column;
            }

            .emergency-actions {
                flex-direction: column;
                align-items: center;
            }

            .info-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .reservation-header {
                padding: 4rem 0 3rem;
            }

            .reservation-header h1 {
                font-size: 2rem;
            }

            .option-card {
                padding: 2rem 1rem;
            }

            .info-item {
                padding: 1.5rem;
            }
        }

        /* Animations */
        .option-card,
        .info-item {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.6s ease forwards;
        }

        .option-card:nth-child(2) { animation-delay: 0.2s; }
        .option-card:nth-child(3) { animation-delay: 0.4s; }

        .info-item:nth-child(2) { animation-delay: 0.2s; }
        .info-item:nth-child(3) { animation-delay: 0.4s; }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</body>
</html>